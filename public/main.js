!function(){function t(){return[i.getMilliseconds()/999,i.getSeconds()/60,i.getMinutes()/60]}function n(){var t=.35*d,n=t/2;d3.select("svg").attr("height",d).attr("width",c),x.range([0,t]),y.rangeBands([-1,c]),A.range([d,n,d]),D.range([M,c-M])}function e(){z=H.selectAll("text").data(m).attr("x",function(t,n){return D(n)}).attr("y",d-M).attr("dy","0.75em").attr("text-anchor",function(t){return t.textAnchor}).style("fill",u).text(function(t){return t.value})}function a(){c=window.innerWidth,d=window.innerHeight,n(),e(),r(t(i))}function r(t){k=H.selectAll("circle").data(t).transition().duration(s).attr("cx",function(){return y(i.getHours())}).attr("cy",function(){return A(i.getHours())}).attr("r",function(t){return x(t)}).style("fill",function(t,n){return p(n)}).style("opacity",function(t){return v(t)})}var i=new Date,l=t(i),c=900,d=600,o=".clock",s=500,i=new Date,u="hsl(221, 85%, 22%)",g="hsl(31, 100%, 50%)",f="hsl(41, 100%, 50%)",h="hsl(51, 100%, 50%)",p=d3.scale.ordinal().domain(d3.range(3)).range([g,f,h]),v=d3.scale.linear().domain(d3.range(2)).range([1,.7]),w=[-1,1],x=d3.scale.linear().domain(w),y=d3.scale.ordinal().domain(d3.range(24)),A=d3.scale.linear().domain([0,12,23]),m=[{value:"AM",textAnchor:"start"},{value:"PM",textAnchor:"end"}],M=25,D=d3.scale.ordinal().domain(d3.range(m.length)),H=d3.select(o).append("svg").append("g"),k=H.selectAll("g").data(l).enter().append("g");k.append("circle").style("fill",function(t,n){return p(n)});var z=H.selectAll("text").data(m).enter().append("text");a(),window.onresize=a,setInterval(function(){i=new Date;var n=t(i);r(n)},s)}();